{"version":3,"sources":["../constants/paths.ts","../scripts/App.ts","../scripts/Modules/AuthModules.ts","../scripts/pages/login.ts"],"names":[],"mappings":";;;;;;AGAA,IAAA,OAAA,GAAA,OAAA,CAAA,uBAAA,CAAA;AHAa,OAAA,CAAA,UAAA,GAAa,UAAC,QAAD,EAAiB;AACzC,AGAF,IAAA,EHAM,QAAQ,CAAC,EGAf,GAAA,GHAM,IAAqB,AGA3B,CAAA,UHAE,EAAsC,YGAxC,CAAA,EAEA;AHDI,ACFJ,IDEI,ACFJ,MDEU,CAAC,ACFX,GAAA,KDEI,CAAgB,CCFpB,CAAA,MDEI,GAA2B,QAA3B,GCFJ,CAAA;ADGG,GAFD,MAEO;AACL,ACHJ,AEIA,IHDI,ACHJ,AEIM,MHDI,AGCE,CHDD,EGCI,IFJf,EDGI,CAAgB,ACHpB,CEIuB,CAAC,KFJxB,CDGI,ACHJ,GDG+B,KGChB,CAAwB,SHDO,IGC/B,CFJf,AEIA,CFJA,EDGI;AACD,AGCH,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAwB,gBAAxB,CAAlB;AHAC,ACHD,AEIA,CHPa,GGOP,KFJU,OEIE,GAAG,QAAQ,CFJ7B,AEI8B,CFJM,KAApC,EAGC,MECoB,CACnB,cADmB,CAArB;AFAU,AEIV,MFJU,MEIE,CAAC,GFJO,GAAW,KAAK,CAAA,IEIpC,CAA8B,KFJpB,EEIV,EAAuC,OAAvC;AHHa,ACDH,AEMV,IAAM,EFNgB,CDCT,CAAA,ECDa,GAAK,IDClB,AGKM,CFNiB,CAAA,CDCX,AGKH,GFNZ,KDCuB,AGKH,CHLI,AGKH,QHLN,IAAqB,EGKxB,CACpB,QHNuB,GAAmC,IGKtC,CAAtB,OHLyB,GAAkD,EAA9D;AAEA,AGMb,OHNa,CAAA,KGMA,CAAC,IHND,GAAa,SGM1B,CAA+B,EHNlB,KGMb,EAAwC,YAAA;AHL3B,ACHX,AEQ4C,MFRxC,CDGO,CAAA,CGKiC,CFR5C,EAAU,IEQkC,CAAA,EHLjC,GAAc,KGKmB,CAAW,OHL5C,AGK4C,CAAA,WAAX,CAAA;AFP1C,AEOiE,CAArE,GFPI,gBAAgB,CAAC;AAAE,AESvB,IAAM,EFTiB,MEST,GAAG,CFTgB,EAAA,KESR,CAAC,IFTL,UESJ,CACf,eADe,CAAjB;AFTmC,MAAA,IAAI,EAAA;AAAlB,AEarB,KFboB,CAAhB,GEaK,oBAAT,CAA8B,KAA9B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","file":"login.810be02e.js","sourceRoot":"..\\src\\pages","sourcesContent":["export const navigateTo = (pathname: string) => {\r\n  if (location.hostname == \"localhost\") {\r\n    window.location.pathname = pathname;\r\n  } else {\r\n    window.location.pathname = `scheduler/` + pathname;\r\n  }\r\n};\r\n\r\nexport const HOME_PATH = location.hostname == \"localhost\" ? \"index.html\" : \"\";\r\n\r\nexport const LOGIN_PATH = \"login.html\";\r\nexport const SIGNUP_PATH = \"signup.html\";\r\n","import { LOGIN_PATH, navigateTo } from \"../constants/paths\";\r\nimport { doSignOut } from \"./Modules/AuthModules\";\r\n\r\nexport function $renderAccountState(props: {\r\n  $container: HTMLElement;\r\n  user: User | null;\r\n}) {\r\n  const { $container, user } = props;\r\n  if (user) {\r\n    $renderUserState({ $container, user });\r\n  } else {\r\n    $renderLoginRequire({ $container });\r\n  }\r\n}\r\n\r\nfunction $renderUserState(props: { $container: HTMLElement; user: User }) {\r\n  const { user, $container } = props;\r\n  const { email, name } = user;\r\n  $container.innerHTML = `\r\n  <div id=\"user-information\">\r\n    <p id=\"name\">${name}</p>\r\n    <p id=\"email\">${email}</p>\r\n  </div>\r\n  <div id=\"account-actions\">\r\n    <a>Profile</a>\r\n    <a id=\"signout-button\">Sign out</a>\r\n  </div>\r\n`;\r\n  const $signOutButton = document.getElementById(\r\n    \"signout-button\"\r\n  ) as HTMLButtonElement;\r\n\r\n  const handleSignUpButtonClick = () => {\r\n    doSignOut().then((result) => {\r\n      if (result.ok) {\r\n        navigateTo(LOGIN_PATH);\r\n      }\r\n    });\r\n  };\r\n\r\n  $signOutButton.addEventListener(\"click\", handleSignUpButtonClick);\r\n}\r\n\r\nfunction $renderLoginRequire(props: { $container: HTMLElement }) {\r\n  const { $container } = props;\r\n  $container.innerHTML = `\r\n    <div id=\"login-require\">\r\n      <button id=\"login-button\">LOG IN</button>\r\n    </div>\r\n`;\r\n  const $loginButton = document.getElementById(\r\n    \"login-button\"\r\n  ) as HTMLButtonElement;\r\n  const handleLoginButtonClick = () => {\r\n    navigateTo(LOGIN_PATH);\r\n  };\r\n  $loginButton.addEventListener(\"click\", handleLoginButtonClick);\r\n}\r\n\r\nexport function $createButtonElement(props: {\r\n  id?: string;\r\n  className?: string;\r\n  onClick?: () => void;\r\n  content: string;\r\n}): HTMLButtonElement {\r\n  const { id, className, onClick, content } = props;\r\n  const $button = document.createElement(\"button\");\r\n  if (id) {\r\n    $button.id = id;\r\n  }\r\n  if (className) {\r\n    $button.className = className;\r\n  }\r\n  if (onClick) {\r\n    $button.addEventListener(\"click\", onClick);\r\n  }\r\n  $button.appendChild(document.createTextNode(content));\r\n  return $button;\r\n}\r\n\r\nexport function $createParagraphElement(props: {\r\n  id?: string;\r\n  className?: string;\r\n  text: string;\r\n  type: string;\r\n}) {\r\n  const { className, text, type } = props;\r\n  const $element = document.createElement(type);\r\n  if (className) {\r\n    $element.className = className;\r\n  }\r\n  $element.appendChild(document.createTextNode(text));\r\n  return $element;\r\n}\r\n\r\nexport function $createInputElement(props: {\r\n  id?: string;\r\n  className?: string;\r\n  placeholder?: string;\r\n  value?: string;\r\n  onSubmit?: (v: string) => Promise<void>;\r\n}): HTMLInputElement {\r\n  const { id, className, placeholder, value, onSubmit } = props;\r\n  const $input = document.createElement(`input`);\r\n  if (id) {\r\n    $input.id = id;\r\n  }\r\n  if (className) {\r\n    $input.className = className;\r\n  }\r\n  if (placeholder) {\r\n    $input.placeholder = placeholder;\r\n  }\r\n  if (value) {\r\n    $input.value = value;\r\n  }\r\n  if (onSubmit) {\r\n    $input.addEventListener(\"keypress\", (ev: KeyboardEvent) => {\r\n      if (ev.key == \"Enter\") {\r\n        onSubmit($input.value).then(() => {\r\n          $input.value = ``;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return $input;\r\n}\r\n\r\nexport function keyInputListener(ev: KeyboardEvent, onSubmit: () => void) {\r\n  if (ev.key == \"Enter\") {\r\n    onSubmit();\r\n  }\r\n}\r\n\r\nexport function $createContainer(props: {\r\n  id?: string;\r\n  className?: string;\r\n  $elements?: HTMLElement[];\r\n}): HTMLElement {\r\n  const { $elements, className, id } = props;\r\n  const $container = document.createElement(\"div\");\r\n\r\n  if (id) {\r\n    $container.id = id;\r\n  }\r\n\r\n  if (className) {\r\n    $container.className = className;\r\n  }\r\n\r\n  if ($elements) {\r\n    $elements.map(($element) => {\r\n      $container.appendChild($element);\r\n    });\r\n  }\r\n\r\n  return $container;\r\n}\r\n\r\nexport let serverUrl = \"https://pandajiny.shop\";\r\nexport const isDevMode: boolean =\r\n  process.env.NODE_ENV?.includes(\"DEV\") || false;\r\n\r\nexport const isLocalMode: boolean =\r\n  process.env.NODE_ENV?.toString().includes(\"LOCAL\") || false;\r\n\r\nif (isLocalMode) {\r\n  serverUrl = \"http://localhost/\";\r\n  console.log(`app is local mode server url : ${serverUrl}`);\r\n} else if (isDevMode) {\r\n  // init dev mode\r\n  console.log(`app is dev mode`);\r\n  fetch(serverUrl).then((res) => {\r\n    if (res.ok) {\r\n      console.log(`server activated`);\r\n    } else {\r\n      console.log(`server not responde, using localhost`);\r\n      serverUrl = \"http://localhost/\";\r\n    }\r\n  });\r\n}\r\n","import { serverUrl } from \"../App\";\r\n\r\nexport function getAuthHeader(): AuthHeader | null {\r\n  const token = localStorage.getItem(\"jwtToken\") || null;\r\n  if (!token) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    Authorization: `Bearer ${token}`,\r\n  };\r\n}\r\n\r\nexport async function doLoginWithEmailAndPassword(request: LoginRequest) {\r\n  const url = serverUrl + \"auth/login\";\r\n  const response = await fetch(url, createPostOption(request));\r\n\r\n  if (response.ok) {\r\n    const result = ((await response.json()) as unknown) as LoginResult;\r\n    localStorage.setItem(\"jwtToken\", result.access_token);\r\n  } else {\r\n    const result = await response.json();\r\n    throw result.message;\r\n  }\r\n}\r\n\r\nexport async function doSignOut(): Promise<ActionResult> {\r\n  localStorage.removeItem(\"jwtToken\");\r\n  return {\r\n    ok: true,\r\n    message: `user sign out`,\r\n  };\r\n}\r\n\r\nexport const doSignUp = async (\r\n  request: SignUpRequest\r\n): Promise<ActionResult> => {\r\n  const url = serverUrl + \"auth/signup\";\r\n  const response = await fetch(url, createPostOption(request));\r\n  if (!response.ok) {\r\n    throw new Error(\"signup-failed\");\r\n  }\r\n  const result = ((await response.json()) as unknown) as LoginResult;\r\n\r\n  localStorage.setItem(\"jwtToken\", result.access_token);\r\n  console.log(`signup done`);\r\n  return {\r\n    ok: true,\r\n    message: `signup ok`,\r\n  };\r\n};\r\n\r\nexport const getUser = async (): Promise<User | null> => {\r\n  const url = serverUrl + \"auth/user\";\r\n  const headers = getAuthHeader();\r\n  if (!headers) {\r\n    return null;\r\n  }\r\n\r\n  const response = await fetch(url, {\r\n    headers,\r\n  });\r\n\r\n  const result = (await response.json()) as User;\r\n  console.log(result);\r\n  return result.email && result.uid ? result : null;\r\n};\r\n\r\nexport const createPostOption = (body: Object): RequestInit => {\r\n  return {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  };\r\n};\r\n\r\nexport const createAuthPostOption = (body: Object): RequestInit => {\r\n  const token = localStorage.getItem(\"jwtToken\");\r\n  return {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  };\r\n};\r\n","import { HOME_PATH, SIGNUP_PATH, navigateTo } from \"../../constants/paths\";\r\nimport { doLoginWithEmailAndPassword } from \"../Modules/AuthModules\";\r\n\r\n// renderNavigator([{ title: \"go home\", pathname: HOME_PATH }]);\r\n\r\nconst $email = document.getElementById(\"email-input\") as HTMLInputElement;\r\nconst $password = document.getElementById(\"password-input\") as HTMLInputElement;\r\nconst $loginButton = document.getElementById(\r\n  \"login-button\"\r\n) as HTMLButtonElement;\r\n\r\n$loginButton.addEventListener(\"click\", doLogin);\r\n\r\nconst $signupButton = document.getElementById(\r\n  \"signup-button\"\r\n) as HTMLButtonElement;\r\n$signupButton.addEventListener(\"click\", () => navigateTo(SIGNUP_PATH));\r\n\r\nconst $message = document.getElementById(\r\n  \"login-message\"\r\n) as HTMLParagraphElement;\r\n\r\nfunction isFormattedCorrectly(email: string, _password: string): boolean {\r\n  return email != \"\" && _password != \"\";\r\n}\r\n\r\nfunction doLogin() {\r\n  const email = $email.value;\r\n  const password = $password.value;\r\n  // validation\r\n  if (isFormattedCorrectly(email, password)) {\r\n    doLoginWithEmailAndPassword({\r\n      email,\r\n      password,\r\n    })\r\n      .catch((err) => {\r\n        $message.textContent = err;\r\n        throw err;\r\n      })\r\n      .then(() => {\r\n        console.log(`login passed, will redirect to home`);\r\n        navigateTo(HOME_PATH);\r\n      });\r\n  } else {\r\n    $message.textContent = \"Please fill blanks\";\r\n    console.error(`user not filled input`);\r\n  }\r\n}\r\n"]}