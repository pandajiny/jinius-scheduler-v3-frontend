{"version":3,"sources":["../constants/paths.ts","../scripts/AuthModule.ts","../scripts/App.ts","../scripts/todo.ts","../scripts/pages/index.ts"],"names":[],"mappings":"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","file":"pages.8edc8df0.js","sourceRoot":"..\\frontend\\src\\pages","sourcesContent":["export const navigateTo = (pathname: string) => {\r\n  if (process.env.NODE_ENV?.includes(\"LOCAL\")) {\r\n    window.location.pathname = pathname;\r\n  } else {\r\n    window.location.pathname = `scheduler/` + pathname;\r\n  }\r\n};\r\n\r\nexport const HOME_PATH = \"index.html\";\r\n\r\nexport const LOGIN_PATH = \"login.html\";\r\nexport const SIGNUP_PATH = \"signup.html\";\r\n","import { serverUrl } from \"./App\";\r\n\r\nexport async function doLoginWithEmailAndPassword(request: LoginRequest) {\r\n  const url = serverUrl + \"auth/login\";\r\n  const response = await fetch(url, createPostOption(request));\r\n\r\n  if (response.ok) {\r\n    const result = ((await response.json()) as unknown) as LoginResult;\r\n    localStorage.setItem(\"jwtToken\", result.access_token);\r\n  } else {\r\n    const result = await response.json();\r\n    throw result.message;\r\n  }\r\n}\r\n\r\nexport const doSignOut = async () => {\r\n  localStorage.removeItem(\"jwtToken\");\r\n  return;\r\n};\r\n\r\nexport const doSignUp = async (\r\n  request: SignUpRequest\r\n): Promise<ActionResult> => {\r\n  const url = serverUrl + \"auth/signup\";\r\n  const response = await fetch(url, createPostOption(request));\r\n  if (!response.ok) {\r\n    throw new Error(\"signup-failed\");\r\n  }\r\n  const result = ((await response.json()) as unknown) as LoginResult;\r\n\r\n  localStorage.setItem(\"jwtToken\", result.access_token);\r\n  console.log(`signup done`);\r\n  return {\r\n    ok: true,\r\n    message: `signup ok`,\r\n  };\r\n  // const result = await response.json() as unknown as SignupResu\r\n};\r\n\r\nexport const getUser = async (): Promise<User | null> => {\r\n  const url = serverUrl + \"auth/user\";\r\n  const response = await fetch(url, { headers: getAuthHeader() });\r\n  const result = (await response.json()) as User;\r\n  return result.email && result.uid ? result : null;\r\n};\r\n\r\nexport const getProfile = async () => {\r\n  const url = serverUrl + \"profile\";\r\n\r\n  fetch(url, {\r\n    headers: getAuthHeader(),\r\n  }).then((resp) => {\r\n    resp.json().then((data) => {\r\n      console.log(data);\r\n    });\r\n  });\r\n};\r\n\r\nexport const getAuthHeader = () => {\r\n  const token = localStorage.getItem(\"jwtToken\");\r\n  return {\r\n    Authorization: `Bearer ${token}`,\r\n  };\r\n};\r\n\r\nexport const createPostOption = (body: Object): RequestInit => {\r\n  return {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  };\r\n};\r\n\r\nexport const createAuthPostOption = (body: Object): RequestInit => {\r\n  const token = localStorage.getItem(\"jwtToken\");\r\n  return {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  };\r\n};\r\n","import { LOGIN_PATH, navigateTo } from \"../constants/paths\";\r\nimport { doSignOut, getUser } from \"./AuthModule\";\r\n\r\nexport const renderTopbanner = () => {};\r\n\r\nexport const renderNavigator = (navItems: NavItem[]) => {\r\n  const $navigator = document.getElementById(\"navigator\") as HTMLDivElement;\r\n  $navigator.innerHTML = \"\";\r\n  navItems.map((navItem) => {\r\n    const $navItem = document.createElement(\"a\");\r\n    $navItem.id = \"nav-item\";\r\n    $navItem.appendChild(document.createTextNode(navItem.title));\r\n    $navItem.addEventListener(\"click\", () => navigateTo(navItem.pathname));\r\n    $navigator.appendChild($navItem);\r\n  });\r\n};\r\n\r\nexport async function renderUserState(): Promise<User | null> {\r\n  const $userState = document.getElementById(\"user-state\") as HTMLDivElement;\r\n  $userState.innerHTML = \"\";\r\n\r\n  const user = await getUser();\r\n  console.log(`got user state`, user);\r\n  if (!user) {\r\n    const $loginRequire = document.createElement(\"div\");\r\n    $loginRequire.appendChild(document.createTextNode(\"please login first\"));\r\n    $userState.appendChild($loginRequire);\r\n\r\n    const $loginButton = document.createElement(\"button\");\r\n    $loginButton.appendChild(document.createTextNode(\"LOGIN\"));\r\n    $loginButton.addEventListener(\"click\", () => {\r\n      navigateTo(LOGIN_PATH);\r\n    });\r\n    $userState.appendChild($loginButton);\r\n    return null;\r\n  } else {\r\n    const $user = document.createElement(\"p\");\r\n    $user.appendChild(document.createTextNode(`Welcome ` + user.email));\r\n    $userState.appendChild($user);\r\n\r\n    const $signoutButton = document.createElement(\"button\");\r\n    $signoutButton.className = \"text-button\";\r\n    $signoutButton.appendChild(document.createTextNode(\"SIGNOUT?\"));\r\n    $signoutButton.addEventListener(\"click\", () => {\r\n      doSignOut().then(() => {\r\n        window.location.reload();\r\n      });\r\n    });\r\n    $userState.appendChild($signoutButton);\r\n    return user;\r\n  }\r\n}\r\n\r\nexport function $createButtonElement(props: {\r\n  id?: string;\r\n  className?: string;\r\n  onClick?: () => void;\r\n  content: string;\r\n}): HTMLButtonElement {\r\n  const { id, className, onClick, content } = props;\r\n  const $button = document.createElement(\"button\");\r\n  if (id) {\r\n    $button.id = id;\r\n  }\r\n  if (className) {\r\n    $button.className = className;\r\n  }\r\n  if (onClick) {\r\n    $button.addEventListener(\"click\", onClick);\r\n  }\r\n  $button.appendChild(document.createTextNode(content));\r\n  return $button;\r\n}\r\n\r\nexport function $createParagraphElement(props: {\r\n  id?: string;\r\n  className?: string;\r\n  text: string;\r\n  type: string;\r\n}) {\r\n  const { className, text, type } = props;\r\n  const $element = document.createElement(type);\r\n  if (className) {\r\n    $element.className = className;\r\n  }\r\n  $element.appendChild(document.createTextNode(text));\r\n  return $element;\r\n}\r\n\r\nexport function $createInputElement(props: {\r\n  id?: string;\r\n  className?: string;\r\n  placeholder?: string;\r\n  value?: string;\r\n  onSubmit?: (v: string) => Promise<void>;\r\n}): HTMLInputElement {\r\n  const { id, className, placeholder, value, onSubmit } = props;\r\n  const $input = document.createElement(`input`);\r\n  if (id) {\r\n    $input.id = id;\r\n  }\r\n  if (className) {\r\n    $input.className = className;\r\n  }\r\n  if (placeholder) {\r\n    $input.placeholder = placeholder;\r\n  }\r\n  if (value) {\r\n    $input.value = value;\r\n  }\r\n  if (onSubmit) {\r\n    $input.addEventListener(\"keypress\", (ev: KeyboardEvent) => {\r\n      if (ev.key == \"Enter\") {\r\n        onSubmit($input.value).then(() => {\r\n          $input.value = ``;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return $input;\r\n}\r\n\r\nexport function $createContainer(props: {\r\n  id?: string;\r\n  className?: string;\r\n  $elements?: HTMLElement[];\r\n}): HTMLElement {\r\n  const { $elements, className, id } = props;\r\n  const $container = document.createElement(\"div\");\r\n\r\n  if (id) {\r\n    $container.id = id;\r\n  }\r\n\r\n  if (className) {\r\n    $container.className = className;\r\n  }\r\n\r\n  if ($elements) {\r\n    $elements.map(($element) => {\r\n      $container.appendChild($element);\r\n    });\r\n  }\r\n\r\n  return $container;\r\n}\r\n\r\nexport const serverUrl: string = process.env.NODE_ENV?.includes(\"LOCAL\")\r\n  ? \"http://localhost/\"\r\n  : process.env.SERVER_URL || \"SERVER_URL not found\";\r\n","import { serverUrl } from \"./App\";\r\nimport { getAuthHeader, createAuthPostOption, getUser } from \"./AuthModule\";\r\n\r\nexport const getTodoItems = async (): Promise<TodoItem[] | []> => {\r\n  console.log(\"get todoItems\");\r\n  const url = serverUrl + \"todo\";\r\n  console.log(`header`, getAuthHeader());\r\n  const result = await fetch(url, {\r\n    method: \"GET\",\r\n    headers: getAuthHeader(),\r\n  });\r\n  console.log(result.ok);\r\n  if (!result.ok) {\r\n    return [];\r\n  }\r\n  const data = ((await result.json()) as unknown) as TodoItem[];\r\n  console.log(\"todoItems :\", data);\r\n  return data;\r\n};\r\n\r\nexport const addTodoItem = async (\r\n  content: string,\r\n  parentId?: string\r\n): Promise<ActionResult> => {\r\n  console.log(\"adding todo\");\r\n  const url = serverUrl + \"todo\";\r\n  const user = await getUser();\r\n  if (!user) {\r\n    throw new Error(\"please login first\");\r\n  }\r\n  console.log(user);\r\n  if (!user.uid) {\r\n    throw new Error(\"cannot get user's uid\");\r\n  }\r\n\r\n  const request: AddTodoItemRequest = {\r\n    content,\r\n    parentId,\r\n    isComplete: false,\r\n    owner: user.uid,\r\n  };\r\n\r\n  return await fetch(url, createAuthPostOption(request)).then(\r\n    async (resp) => await resp.json()\r\n  );\r\n};\r\n\r\nexport const deleteTodoItem = async (request: { id: string }) => {\r\n  const { id } = request;\r\n  const url = serverUrl + `todo/${id}`;\r\n\r\n  const resp = await fetch(url, {\r\n    headers: getAuthHeader(),\r\n    method: \"DELETE\",\r\n  });\r\n  const result = await resp.json();\r\n\r\n  console.log(`delete result`, result);\r\n  return result as ActionResult;\r\n};\r\n\r\nexport async function editTodo(todo: TodoItem): Promise<ActionResult> {\r\n  const url = serverUrl + `todo/${todo.id}`;\r\n\r\n  const headers = Object.assign(\r\n    { \"Content-Type\": \"application/json\" },\r\n    getAuthHeader()\r\n  );\r\n\r\n  console.log(headers);\r\n  const resp = await fetch(url, {\r\n    headers,\r\n    method: \"PUT\",\r\n    body: JSON.stringify(todo),\r\n  });\r\n\r\n  if (!resp.ok) {\r\n    return {\r\n      ok: false,\r\n      error_message: await resp.json().then((r) => r.message),\r\n    };\r\n  }\r\n\r\n  const result = await resp.json();\r\n  console.log(`edit todo result`, result);\r\n\r\n  return result;\r\n}\r\n\r\nexport async function completeTodos(ids: string[]): Promise<ActionResult> {\r\n  const url = serverUrl + `todo/complete`;\r\n\r\n  const headers = Object.assign(\r\n    { \"Content-Type\": \"application/json\" },\r\n    getAuthHeader()\r\n  );\r\n\r\n  const resp = await fetch(url, {\r\n    headers,\r\n    method: \"POST\",\r\n    body: JSON.stringify(ids),\r\n  });\r\n\r\n  if (!resp.ok) {\r\n    throw new Error(await resp.json());\r\n  }\r\n\r\n  const result = await resp.json();\r\n  console.log(`complete todos result`, result);\r\n\r\n  return result;\r\n}\r\n\r\nexport async function uncompleteTodos(ids: string[]): Promise<ActionResult> {\r\n  const url = serverUrl + `todo/uncomplete`;\r\n\r\n  const headers = Object.assign(\r\n    { \"Content-Type\": \"application/json\" },\r\n    getAuthHeader()\r\n  );\r\n\r\n  const resp = await fetch(url, {\r\n    headers,\r\n    method: \"POST\",\r\n    body: JSON.stringify(ids),\r\n  });\r\n\r\n  if (!resp.ok) {\r\n    throw new Error(await resp.json());\r\n  }\r\n\r\n  const result = await resp.json();\r\n  console.log(`uncomplete todos result`, result);\r\n\r\n  return result;\r\n}\r\n","import {\r\n  $createContainer,\r\n  $createButtonElement,\r\n  $createParagraphElement,\r\n  renderUserState,\r\n  $createInputElement,\r\n} from \"../App\";\r\nimport {\r\n  addTodoItem,\r\n  completeTodos,\r\n  deleteTodoItem,\r\n  editTodo,\r\n  getTodoItems,\r\n  uncompleteTodos,\r\n} from \"../todo\";\r\n\r\ninitializeApp();\r\n\r\nfunction initializeApp() {\r\n  renderUserState().then((user) => {\r\n    console.log(`login user : ${user?.email}`);\r\n    if (user) {\r\n      (document.getElementById(\"main\") as HTMLElement).style.display = \"block\";\r\n      updateTodolist();\r\n    }\r\n  });\r\n}\r\n\r\nlet todoItems: TodoItem[] = [];\r\n\r\nconst $addTodoInput = document.getElementById(\r\n  \"add-todo-input\"\r\n) as HTMLInputElement;\r\n\r\n$addTodoInput.addEventListener(\"keyup\", (ev: KeyboardEvent) => {\r\n  if (ev.key == \"Enter\") {\r\n    addTodoItem($addTodoInput.value).then(() => {\r\n      $addTodoInput.value = \"\";\r\n      updateTodolist();\r\n    });\r\n  }\r\n});\r\n\r\nconst $submit = document.getElementById(\"submit\") as HTMLButtonElement;\r\n$submit.addEventListener(\"click\", () => {\r\n  addTodoItem($addTodoInput.value).then(() => {\r\n    $addTodoInput.value = \"\";\r\n    updateTodolist();\r\n  });\r\n});\r\n\r\nconst $todolist = document.getElementById(\"todolist\") as HTMLDivElement;\r\n\r\nasync function updateTodolist() {\r\n  todoItems = await getTodoItems();\r\n  $todolist.innerHTML = \"\";\r\n  todoItems\r\n    .filter((todoItem) => todoItem.parentId == null)\r\n    .map((todoItem) => {\r\n      const $todo = $createTodoItem(todoItem);\r\n      $todolist.appendChild($todo);\r\n    });\r\n}\r\n\r\nfunction $createTodoItem(todo: TodoItem) {\r\n  // const $todo = document.createElement(\"div\");\r\n  // $todo.id = `todo-${todo.id}`;\r\n  // $todo.className = \"todo\";\r\n\r\n  const $todo = $createContainer({\r\n    id: `todo-${todo.id}`,\r\n    className: `todo`,\r\n  });\r\n\r\n  const $label = document.createElement(`label`);\r\n  $label.style.display = \"none\";\r\n\r\n  // $content container : date + content\r\n  const $mainContainer = $createContainer({ className: `main-container` });\r\n\r\n  const $contentContainer = $createContainer({\r\n    className: `content-container`,\r\n  });\r\n  const $content = $createParagraphElement({\r\n    className: `content`,\r\n    text: todo.content,\r\n    type: \"h3\",\r\n  });\r\n  if (todo.isComplete) {\r\n    $content.className += ` done`;\r\n  }\r\n  const $contentEdit = $createInputElement({\r\n    id: `content-edit-${todo.id}`,\r\n    className: `unactive`,\r\n    value: todo.content,\r\n    onSubmit: async (content: string) => {\r\n      todo.content = content;\r\n      await editTodo(todo).then(() => {\r\n        updateTodolist();\r\n      });\r\n      console.log(`todo-${todo.id} has changed!`, content);\r\n      $contentEdit.className = `unactive`;\r\n      $content.className = `content`;\r\n    },\r\n  });\r\n  $contentContainer.appendChild($content);\r\n  $contentContainer.appendChild($contentEdit);\r\n\r\n  // delete, edit, done button\r\n  const $actionButtons = $createContainer({ className: `action-buttons` });\r\n  const $deleteButton = $createButtonElement({\r\n    className: `text-button`,\r\n    content: `✖\t`,\r\n    onClick: () => {\r\n      deleteTodoItem({ id: todo.id! }).then(() => {\r\n        updateTodolist();\r\n      });\r\n    },\r\n  });\r\n  const $editButton = $createButtonElement({\r\n    className: `text-button`,\r\n    content: `✎`,\r\n    onClick: () => {\r\n      $contentEdit.className = \"active\";\r\n      $content.className = `content unactive`;\r\n    },\r\n  });\r\n  const $doneButton = $createButtonElement({\r\n    className: `text-button`,\r\n    content: `✓`,\r\n    onClick: () => {\r\n      if (!todo.isComplete) {\r\n        completeTodos([todo.id!, ...childList.map((t) => t.id!)]).then(() =>\r\n          updateTodolist()\r\n        );\r\n      } else {\r\n        uncompleteTodos([todo.id!, ...childList.map((t) => t.id!)]).then(() =>\r\n          updateTodolist()\r\n        );\r\n      }\r\n    },\r\n  });\r\n  $actionButtons.appendChild($deleteButton);\r\n  $actionButtons.appendChild($editButton);\r\n  $actionButtons.appendChild($doneButton);\r\n\r\n  $mainContainer.appendChild($contentContainer);\r\n  $mainContainer.appendChild($actionButtons);\r\n\r\n  const $childContainer = $createContainer({\r\n    className: `child-container unactive`,\r\n  });\r\n\r\n  const $childInputContainer = $createContainer({\r\n    className: `child-input-container`,\r\n  });\r\n  const $iconLabel = document.createElement(\"label\");\r\n  $iconLabel.innerHTML = \"➕\";\r\n  $iconLabel.className = \"icon\";\r\n  const $childInput = $createInputElement({\r\n    className: \"child-input\",\r\n    placeholder: \"add aditional things...\",\r\n    onSubmit: async (v: string) => {\r\n      addTodoItem(v, todo.id).then(() => updateTodolist());\r\n    },\r\n  });\r\n  const $cancelButton = $createButtonElement({\r\n    className: `cancel-button text-button`,\r\n    content: `cancel`,\r\n    onClick: () => {\r\n      $childContainer.className = `child-container unactive`;\r\n      $childInput.value = ``;\r\n    },\r\n  });\r\n  $childInputContainer.appendChild($iconLabel);\r\n  $childInputContainer.appendChild($childInput);\r\n  $childInputContainer.appendChild($cancelButton);\r\n\r\n  const $childList = $createContainer({ className: `child-todo-list` });\r\n  const childList = todoItems.filter((t) => t.parentId == todo.id);\r\n  childList.map((childTodo) => {\r\n    $childList.appendChild($createTodoItem(childTodo));\r\n  });\r\n  if (childList.length > 0) {\r\n    $label.innerText = `${childList.length}more things`;\r\n    $label.style.display = \"block\";\r\n  }\r\n\r\n  $childContainer.appendChild($childInputContainer);\r\n  $childContainer.appendChild($childList);\r\n\r\n  const $divider = document.createElement(\"div\");\r\n  $divider.className = \"divider\";\r\n\r\n  $todo.appendChild($label);\r\n  $todo.appendChild($mainContainer);\r\n  $todo.appendChild($childContainer);\r\n  $todo.appendChild($divider);\r\n\r\n  $contentContainer.addEventListener(\"click\", () => {\r\n    if ($childContainer.className.includes(\"unactive\")) {\r\n      $childContainer.className = `child-container active`;\r\n    } else {\r\n      $childContainer.className = `child-container unactive`;\r\n    }\r\n  });\r\n  return $todo;\r\n}\r\n"]}